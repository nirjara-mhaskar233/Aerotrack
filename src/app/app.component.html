
<header class="app-header">
  <!-- Brand (left) -->
  <div class="brand">
    <a routerLink="/aircraft">
      <svg width="24" height="24" viewBox="0 0 24 24" aria-hidden="true">
        <path d="M2 12l6-2 4 2 4-2 6 2-6 2-4-2-4 2-6-2z" fill="#0b5ed7"></path>
      </svg>
      <span class="brand-text">AeroTrack</span>
    </a>
  </div>

  <!-- Session info (top-right) -->
  <div class="session-info" *ngIf="auth.isAuthenticated">
    <span class="session-text">
      Signed in as <strong>{{ auth.user?.displayName }}</strong> ({{ auth.role }})
    </span>
    <button class="logout-btn" (click)="auth.logout()">Logout</button>
  </div>
</header>

<!-- Layout only visible after authentication -->
<div class="layout" *ngIf="auth.isAuthenticated; else unauthLayout">
  <!-- Sidebar -->
  <nav class="sidebar">
    <div class="group">
      <div class="title">Core</div>
      <a routerLink="/aircraft" routerLinkActive="active">
        <svg width="18" height="18" viewBox="0 0 24 24" aria-hidden="true">
          <path d="M2 12l6-2 4 2 4-2 6 2-6 2-4-2-4 2-6-2z" fill="currentColor"></path>
        </svg>
        <span>Aircraft</span>
      </a>
      <a routerLink="/maintenance" routerLinkActive="active">
        <svg width="18" height="18" viewBox="0 0 24 24" aria-hidden="true">
          <path d="M4 4h16v2H4zm0 6h16v2H4zm0 6h16v2H4z" fill="currentColor"></path>
        </svg>
        <span>Maintenance</span>
      </a>
    </div>

    <div class="group">
      <div class="title">Dashboards</div>
      <a routerLink="/dashboards" routerLinkActive="active">
        <svg width="18" height="18" viewBox="0 0 24 24" aria-hidden="true">
          <path d="M3 3h18v2H3zm0 6h12v2H3zm0 6h8v2H3z" fill="currentColor"></path>
        </svg>
        <span>Dashboards</span>
      </a>
    </div>

    <div class="group">
      <div class="title">Ops</div>
      <a routerLink="/spares" routerLinkActive="active">
        <svg width="18" height="18" viewBox="0 0 24 24" aria-hidden="true">
          <path d="M12 2l4 4-4 4-4-4 4-4zm-6 10l4 4-4 4-4-4 4-4zm12 0l4 4-4 4-4-4 4-4z" fill="currentColor"></path>
        </svg>
        <span>Spares</span>
      </a>
      <a routerLink="/audit" routerLinkActive="active">
        <svg width="18" height="18" viewBox="0 0 24 24" aria-hidden="true">
          <path d="M5 3h14v18H5z M8 6h8v2H8z M8 10h8v2H8z M8 14h8v2H8z" fill="currentColor"></path>
        </svg>
        <span>Audit &amp; Compliance</span>
      </a>
      <a routerLink="/reports" routerLinkActive="active">
        <svg width="18" height="18" viewBox="0 0 24 24" aria-hidden="true">
          <path d="M3 3h18v2H3zm0 6h12v2H3zm0 6h8v2H3z" fill="currentColor"></path>
        </svg>
        <span>Reports</span>
      </a>
    </div>
  </nav>

  <!-- Content -->
  <main class="container">
    <router-outlet></router-outlet>
  </main>
</div>

<!-- Unauthenticated: render only router-outlet (Login page) -->
<ng-template #unauthLayout>
  <main class="container container--unauth">
    <router-outlet></router-outlet>
  </main>
</ng-template>
